{"prompt":"Role: expert research analyst + product strategist + realtime-audio/MIDI plugin architect. Task: deep research + write a rigorous spec+prototype plan for VOICE-LEADING algorithms for ChordPallette (MIDI-first harmony; BaseChord immutable; operator pipeline; Freeze/Commit; RT-safe subset; portable/testable core) using project docs: https://github.com/PARKER-DSP/Chord-Pallette-Docs and local note: /mnt/data/voice leading algorithim idea.txt. Output format: Executive Summary (concise) then 3 labeled sections: ASSUMPTIONS (explicitly list unspecified: CPU/latency budget, host list, max voices), FACTS (every non-obvious claim must have an inline prioritized URL citation; sources only = primary papers/standards/specs/official dev docs/reputable audio-dev blogs), INFERENCES/RECOMMENDATIONS. Cover: (1) algorithm survey: DP/Viterbi, constraint programming, heuristic/A*, Tymoczko geometry—pros/cons; (2) bounded candidate generation + pruning heuristics—REQUEST a comparison TABLE; (3) style-profiled cost functions (neo-soul, cinematic, worship, R&B)—templates + parameter ranges + musical rationale; (4) deterministic RT-safe impl: alloc-free, preallocated pools, lock-free queues, seeded RNG, off-thread heavy work, pluginval-like checks—CITE CLAP thread-check + AU + VST3 + pluginval; (5) per-voice identity + MPE/MIDI2 considerations; (6) deterministic DP/Viterbi pseudocode + complexity/worst-case bounds; (7) eval metrics + golden-MIDI fixture design; (8) property tests + fuzzing; (9) serialization + operator integration (schema versioning, CBOR/JSON, migration tests); (10) CI: unit/property/fuzz + pluginval integration + realtime allocation detection. Deliverables: A) recommended v1 alg(s) w trade-offs; B) candidate generator designs TABLE; C) cost templates; D) DP/Viterbi pseudocode+complexity; E) test harness (golden fixtures, property tests, fuzz targets); F) RT-safe operator API sketch (data structs, pseudocode, preconditions) + 2 Mermaid diagrams (data-flow; operator-integration timeline); G) prioritized prototyping backlog (impact vs effort + deps)."}